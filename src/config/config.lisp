(in-package #:eloquent.mvc.config)

(defclass <config> ()
  ((content :documentation "Object generated by py-configparser"
            :initarg :content
            :reader config-content
            :type py-configparser:config))
  (:documentation "Configurations for the eloquent-mvc project"))

(defun get (config section-name option-name)
  (declare (type string option-name section-name))
  (declare (type <config> config))
  (with-slots (content) config
    (py-configparser:get-option content section-name option-name)))

(defun get-application-root (config)
  (get config "application" "root"))

(defun get-server-port (config)
  (parse-integer (get config "server" "port")))
